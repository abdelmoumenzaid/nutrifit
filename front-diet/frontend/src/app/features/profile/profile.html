<div class="profile-page">
  <!-- ‚ùå Message d'erreur (optionnel) -->
  <div *ngIf="errorMessage" class="error-banner">
    <div class="error-content">
      <span class="error-icon">‚ö†Ô∏è</span>
      <p>{{ errorMessage }}</p>
    </div>
  </div>

  <!-- üìå Contenu principal (toujours affich√©, les valeurs se rempliront quand userProfile arrive) -->
  <div class="profile-content">
    <!-- üìå Header avec avatar et infos utilisateur -->
    <section class="profile-header">
      <div class="avatar-circle">
        <span class="avatar-icon">üë§</span>
      </div>
      <h1>{{ name || 'Profil' }}</h1>
      <p class="email">{{ email || ' ' }}</p>
    </section>

    <!-- üìå Section Compte -->
    <section class="section">
      <h2>Compte</h2>
      <div
        class="card-row"
        *ngFor="let item of accountItems"
        (click)="openItem(item)"
        role="button"
        tabindex="0"
        (keydown.enter)="openItem(item)"
        (keydown.space)="openItem(item)"
      >
        <div class="card-left">
          <span class="icon-pill">{{ item.icon }}</span>
          <div>
            <p class="title">{{ item.title }}</p>
            <p class="subtitle">{{ item.subtitle }}</p>
          </div>
        </div>
        <span class="chevron">‚Ä∫</span>
      </div>
    </section>

    <!-- üìå Section Pr√©f√©rences -->
    <section class="section">
      <h2>Pr√©f√©rences</h2>
      <div
        class="card-row"
        *ngFor="let item of preferenceItems"
        (click)="openItem(item)"
        role="button"
        tabindex="0"
        (keydown.enter)="openItem(item)"
        (keydown.space)="openItem(item)"
      >
        <div class="card-left">
          <span class="icon-pill">{{ item.icon }}</span>
          <div>
            <p class="title">{{ item.title }}</p>
            <p class="subtitle">{{ item.subtitle }}</p>
          </div>
        </div>
        <span class="chevron">‚Ä∫</span>
      </div>
    </section>

    <!-- üìå Section Notifications -->
    <section class="section">
      <h2>Notifications</h2>
      <div class="card-row">
        <div class="card-left">
          <span class="icon-pill">üîî</span>
          <div>
            <p class="title">Rappels quotidiens</p>
            <p class="subtitle">Notifications pour tes repas</p>
          </div>
        </div>
        <label class="switch" for="notifications-toggle">
          <input
            id="notifications-toggle"
            type="checkbox"
            [checked]="notificationsEnabled"
            (change)="toggleNotifications()"
            aria-label="Activer ou d√©sactiver les notifications"
          />
          <span class="slider"></span>
        </label>
      </div>
    </section>

    <!-- üìå Section Statistiques -->
    <section class="section">
      <h2>Mes statistiques</h2>
      <div class="stats-card">
        <div class="stat">
          <div class="value">{{ stats.days }}</div>
          <div class="label">Jours</div>
        </div>
        <div class="stat">
          <div class="value">{{ stats.recipes }}</div>
          <div class="label">Recettes</div>
        </div>
        <div class="stat">
          <div class="value">{{ stats.goals }}%</div>
          <div class="label">Objectifs</div>
        </div>
      </div>
    </section>

    <!-- üìå Section D√©connexion -->
    <section class="section">
      <button
        class="logout-btn"
        (click)="logout()
      ">
        Se d√©connecter
      </button>
    </section>
  </div>
</div>
