{
  "services": {
    "keycloak": {
      "build": {
        "builder": "dockerfile",
        "dockerfilePath": "Dockerfile"
      },
      "deploy": {
        "restartPolicyType": "on_failure",
        "restartPolicyMaxRetries": 3
      }
    },
    "frontend": {
      "build": {
        "builder": "dockerfile",
        "dockerfilePath": "front-diet/frontend/Dockerfile",
        "context": "front-diet/frontend"
      },
      "deploy": {
        "restartPolicyType": "on_failure",
        "restartPolicyMaxRetries": 3
      }
    },
    "backend": {
      "build": {
        "builder": "dockerfile",
        "dockerfilePath": "back-diet/backend/demo/Dockerfile"
      }
    },
    "agent-ia": {
      "build": {
        "builder": "dockerfile",
        "dockerfilePath": "back-diet/backend/python-agent/Dockerfile",
        "context": "back-diet/backend/python-agent"
      },
      "deploy": {
        "startCommand": "uvicorn main:app --host 0.0.0.0 --port $PORT",
        "healthcheckPath": "/health"
      }
    }
  }
}
